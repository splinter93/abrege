/**
 * THEME MOBILE DARK - Pure Black (PWA Standalone)
 * S'applique automatiquement en mode app installée
 * Standard JEAN-CLAUDE: <300 lignes
 */

/* ========================================
   ACTIVATION AUTOMATIQUE MODE STANDALONE
   ======================================== */

@media (display-mode: standalone) {
  /* ========================================
     VARIABLES CSS - Utilise les variables du thème au lieu de valeurs hardcodées
     ======================================== */
  body {
    /* ✅ Garde les valeurs dark mode mais utilise les variables pour cohérence */
    --chat-bg-primary: #000000;
    --chat-bg-secondary: #0a0a0a;
    /* ⚡ CRITICAL : Utilise les variables CSS du thème au lieu de hardcoder */
    --chat-text-primary: var(--chat-text-primary, #b5bcc4); /* ✅ Variable du thème dark */
    --chat-text-secondary: var(--chat-text-secondary, #a1a9b1); /* ✅ Variable du thème dark */
    --chat-border: #1a1a1a;
    --chat-border-subtle: #0f0f0f;
  }
  
  /* ========================================
     FONTS - INCLUT GEIST DANS LES FALLBACKS
     ✅ Identique à l'app web normale
     ======================================== */
  
  body,
  .chatgpt-container,
  .chatgpt-content,
  .chat-markdown {
    /* ⚡ CRITICAL : Inclut Geist en premier pour cohérence avec app web */
    font-family: var(--font-chat-text, 'Figtree', 'Geist', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif) !important;
  }
  
  /* Headings */
  .chat-markdown h1,
  .chat-markdown h2,
  .chat-markdown h3,
  .chat-markdown h4,
  .chat-markdown h5,
  .chat-markdown h6 {
    /* ⚡ CRITICAL : Utilise la variable CSS du thème */
    font-family: var(--font-chat-headings, 'Manrope', 'Figtree', 'Geist', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif) !important;
  }
  
  /* Input */
  .chatgpt-input-textarea,
  .textarea-with-mentions-input {
    /* ⚡ CRITICAL : Utilise la variable CSS du thème avec Geist */
    font-family: var(--font-chat-text, 'Figtree', 'Geist', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif) !important;
  }
  
  /* Code blocks */
  .chat-markdown code,
  .chat-markdown pre {
    /* ⚡ CRITICAL : Utilise la variable CSS du thème */
    font-family: var(--font-monospace, 'JetBrains Mono', 'SF Mono', 'Monaco', 'Consolas', monospace) !important;
  }
  
  /* ⚡ CRITICAL : Listes - Garantir même taille et couleur que paragraphes en PWA */
  .chat-markdown li:not(.task-list-item) {
    font-family: var(--font-chat-text, 'Figtree', 'Geist', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif) !important;
    font-size: var(--chat-text-base, 1rem) !important;
    color: var(--chat-text-primary, #b5bcc4) !important;
  }
  
  .chat-markdown li > p {
    font-family: var(--font-chat-text, 'Figtree', 'Geist', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif) !important;
    font-size: var(--chat-text-base, 1rem) !important;
    color: var(--chat-text-primary, #b5bcc4) !important;
  }
  
  /* ========================================
     CONTAINER PRINCIPAL
     ======================================== */
  
  .chatgpt-container {
    background: #000000 !important;
  }
  
  .chatgpt-content {
    background: #000000 !important;
  }
  
  .chatgpt-main {
    background: #000000 !important;
  }
  
  /* ========================================
     HEADER
     ======================================== */
  
  .chatgpt-header {
    background: transparent !important;
    border-bottom: none !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }
  
  /* ========================================
     MESSAGES
     ======================================== */
  
  .chatgpt-messages-container {
    background: transparent !important;
    box-shadow: none !important;
  }
  
  /* Retirer le fade/blur sous le header */
  .chatgpt-messages-container::before {
    display: none !important;
  }
  
  /* User bubbles - Réduit taille et garde dégradé gris */
  .chatgpt-message-bubble-user {
    max-width: 70% !important;
    padding: 10px 14px !important;
    font-size: 14.5px !important;
    line-height: 1.5 !important;
  }
  
  .chatgpt-message-bubble-assistant {
    background: transparent !important;
  }
  
  /* ========================================
     INPUT AREA - GARDE DÉGRADÉ GRIS EXISTANT
     ======================================== */
  
  /* Pas d'override - laisse le style glassmorphism existant */
  
  /* Retirer border-top qui crée la ligne horizontale */
  .chatgpt-input-area {
    border-top: none !important;
  }
  
  .chatgpt-main {
    border-bottom: none !important;
    background: #000000 !important; /* Noir pur pour couvrir jusqu'au bout */
  }
  
  /* Input garde son dégradé gris glassmorphism */
  
  /* ========================================
     SIDEBAR - GARDE DÉGRADÉ GRIS EXISTANT
     ======================================== */
  
  /* Pas d'override - laisse le style glassmorphism existant */
  
  /* ========================================
     BUTTONS - Utilise les variables CSS
     ======================================== */
  
  button {
    /* ⚡ CRITICAL : Utilise la variable CSS au lieu de hardcoder */
    color: var(--chat-text-primary, #b5bcc4);
  }
  
  .chatgpt-send-btn {
    background: #1a1a1a !important;
    border: 1px solid #2a2a2a;
  }
  
  .chatgpt-send-btn:hover {
    background: #2a2a2a !important;
  }
  
  /* ========================================
     SCROLLBAR
     ======================================== */
  
  ::-webkit-scrollbar {
    width: 8px;
    background: #000000;
  }
  
  ::-webkit-scrollbar-thumb {
    background: #1a1a1a;
    border-radius: 4px;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: #2a2a2a;
  }
}

