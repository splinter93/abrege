/* ========================================
   SYSTÈME GLASSMORPHISM CENTRALISÉ ET OPTIMISÉ
   ========================================
   Ce fichier centralise tous les effets glassmorphism pour éviter les doublons
   et assurer des performances optimales.
*/

/* ========================================
   VARIABLES GLASSMORPHISM UNIFIÉES
   ======================================== */
/* Les variables glassmorphism sont maintenant centralisées dans variables-unified.css */

/* ========================================
   CLASSES GLASSMORPHISM OPTIMISÉES
   ======================================== */

/* Base glassmorphism - Classe fondamentale */
.glass {
  background: var(--glass-bg-base);
  backdrop-filter: var(--glass-blur-medium);
  -webkit-backdrop-filter: var(--glass-blur-medium);
  border: 1px solid var(--glass-border-subtle);
  box-shadow: var(--glass-shadow-soft);
}

/* Variations d'intensité */
.glass-subtle {
  background: var(--glass-bg-subtle);
  backdrop-filter: var(--glass-blur-light);
  -webkit-backdrop-filter: var(--glass-blur-light);
  border: 1px solid var(--glass-border-soft);
  box-shadow: var(--glass-shadow-subtle);
}

.glass-soft {
  background: var(--glass-bg-soft);
  backdrop-filter: var(--glass-blur-medium);
  -webkit-backdrop-filter: var(--glass-blur-medium);
  border: 1px solid var(--glass-border-medium);
  box-shadow: var(--glass-shadow-soft);
}

.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: var(--glass-blur-strong);
  -webkit-backdrop-filter: var(--glass-blur-strong);
  border: 1px solid var(--glass-border-strong);
  box-shadow: var(--glass-shadow-medium);
}

.glass-strong {
  background: var(--glass-bg-strong);
  backdrop-filter: var(--glass-blur-heavy);
  -webkit-backdrop-filter: var(--glass-blur-heavy);
  border: 1px solid var(--glass-border-strong);
  box-shadow: var(--glass-shadow-strong);
}

/* ========================================
   COMPOSANTS GLASSMORPHISM SPÉCIALISÉS
   ======================================== */

/* Boutons glassmorphism */
.btn-glass {
  background: var(--glass-bg-subtle);
  backdrop-filter: var(--glass-blur-light);
  -webkit-backdrop-filter: var(--glass-blur-light);
  border: 1px solid var(--glass-border-soft);
  border-radius: var(--radius-md);
  color: var(--color-text-primary);
  font-family: var(--font-base);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  padding: var(--spacing-sm) var(--spacing-md);
  transition: all var(--transition-normal);
  cursor: pointer;
  position: relative;
  overflow: hidden;
  box-shadow: var(--glass-shadow-subtle);
}

.btn-glass::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--glass-gradient-subtle);
  border-radius: var(--radius-md);
  opacity: 0;
  transition: opacity var(--transition-normal);
  pointer-events: none;
  z-index: 0;
}

.btn-glass:hover::before {
  opacity: 1;
}

.btn-glass:hover {
  background: var(--glass-bg-soft);
  border-color: var(--glass-border-medium);
  transform: translateY(-1px);
  box-shadow: var(--glass-shadow-soft);
}

/* Inputs glassmorphism */
.input-glass {
  background: var(--glass-bg-subtle);
  backdrop-filter: var(--glass-blur-light);
  -webkit-backdrop-filter: var(--glass-blur-light);
  border: 1px solid var(--glass-border-soft);
  border-radius: var(--radius-md);
  color: var(--color-text-primary);
  font-family: var(--font-base);
  font-size: var(--font-size-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  transition: all var(--transition-normal);
  outline: none;
  position: relative;
  overflow: hidden;
}

.input-glass::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--glass-gradient-subtle);
  border-radius: var(--radius-md);
  opacity: 0;
  transition: opacity var(--transition-normal);
  pointer-events: none;
  z-index: 0;
}

.input-glass:focus {
  border-color: var(--glass-border-focus);
  box-shadow: var(--glass-shadow-medium), 0 0 0 2px rgba(255, 255, 255, 0.1);
  background: var(--glass-bg-soft);
}

.input-glass:focus::before {
  opacity: 1;
}

.input-glass::placeholder {
  color: var(--color-text-muted);
  opacity: 0.7;
}

/* Cards glassmorphism */
.card-glass {
  background: var(--glass-bg-base);
  backdrop-filter: var(--glass-blur-medium);
  -webkit-backdrop-filter: var(--glass-blur-medium);
  border: 1px solid var(--glass-border-subtle);
  border-radius: var(--radius-lg);
  box-shadow: var(--glass-shadow-soft);
  position: relative;
  overflow: hidden;
  transition: all var(--transition-normal);
}

.card-glass::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--glass-gradient-subtle);
  border-radius: var(--radius-lg);
  opacity: 0.6;
  pointer-events: none;
  z-index: 0;
}

.card-glass:hover {
  background: var(--glass-bg-subtle);
  border-color: var(--glass-border-soft);
  box-shadow: var(--glass-shadow-medium);
  transform: translateY(-2px);
}

/* ========================================
   UTILITAIRES GLASSMORPHISM
   ======================================== */

/* Effets de flou purs */
.blur-light { backdrop-filter: var(--glass-blur-light); -webkit-backdrop-filter: var(--glass-blur-light); }
.blur-medium { backdrop-filter: var(--glass-blur-medium); -webkit-backdrop-filter: var(--glass-blur-medium); }
.blur-strong { backdrop-filter: var(--glass-blur-strong); -webkit-backdrop-filter: var(--glass-blur-strong); }
.blur-heavy { backdrop-filter: var(--glass-blur-heavy); -webkit-backdrop-filter: var(--glass-blur-heavy); }

/* Ombres glassmorphism */
.shadow-glass-subtle { box-shadow: var(--glass-shadow-subtle); }
.shadow-glass-soft { box-shadow: var(--glass-shadow-soft); }
.shadow-glass-medium { box-shadow: var(--glass-shadow-medium); }
.shadow-glass-strong { box-shadow: var(--glass-shadow-strong); }

/* ========================================
   RESPONSIVE GLASSMORPHISM
   ======================================== */
@media (max-width: 768px) {
  /* Réduire les effets sur mobile pour les performances */
  .glass,
  .glass-subtle,
  .glass-soft,
  .glass-medium,
  .glass-strong {
    backdrop-filter: var(--glass-blur-light);
    -webkit-backdrop-filter: var(--glass-blur-light);
  }
  
  .btn-glass,
  .input-glass,
  .card-glass {
    backdrop-filter: var(--glass-blur-light);
    -webkit-backdrop-filter: var(--glass-blur-light);
  }
}

/* ========================================
   PERFORMANCE OPTIMIZATIONS
   ======================================== */
@media (prefers-reduced-motion: reduce) {
  .glass,
  .glass-subtle,
  .glass-soft,
  .glass-medium,
  .glass-strong,
  .btn-glass,
  .input-glass,
  .card-glass {
    transition: none;
  }
  
  .btn-glass:hover,
  .card-glass:hover {
    transform: none;
  }
}

/* Désactiver glassmorphism sur les navigateurs non supportés */
@supports not (backdrop-filter: blur(1px)) {
  .glass,
  .glass-subtle,
  .glass-soft,
  .glass-medium,
  .glass-strong,
  .btn-glass,
  .input-glass,
  .card-glass {
    background: var(--color-bg-secondary);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
  }
}
