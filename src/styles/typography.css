/* ==========================================================================
   TYPOGRAPHIE CENTRALISÉE - ÉDITEUR
   ==========================================================================
   Système unifié pour fonts, tailles, layouts.
   Les couleurs sont gérées par src/styles/design-system.css
   
   POLICES DISPONIBLES DANS L'ÉDITEUR :
   - Noto Sans (par défaut) : Sans-serif moderne, très lisible
   - Inter : Sans-serif optimisé pour l'écran
   - Open Sans : Sans-serif humaniste, très lisible
   - Roboto : Sans-serif Google, excellent pour l'UI
   - Lato : Sans-serif moderne, très populaire
   - Source Sans 3 : Sans-serif Adobe, très complet
   - Work Sans : Sans-serif moderne, excellent contraste
   - EB Garamond : Serif classique, élégant
   - Cormorant Garamond : Serif moderne, très raffiné
   - Arial : Système, fallback universel
   - Palatino : Système, serif classique
   - JetBrains Mono : Monospace pour le code
*/

/* ==========================================================================
   IMPORTS GOOGLE FONTS - POLICES PRINCIPALES
   ========================================================================== */
/* Sans-serif modernes */
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Inter:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Source+Sans+3:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Work+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');

/* Serif classiques */
@import url('https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap');

/* Monospace pour le code */
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Mono:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap');

:root {
  /* ==========================================================================
     COULEURS TYPOGRAPHIQUES
     ========================================================================== */
  --editor-text-color: #F5F5DC;
  --editor-text-primary: #F5F5DC;
  --editor-text-muted: #737373;
  
  /* ==========================================================================
     FONTS HARMONISÉES - POLICES PRINCIPALES
     ========================================================================== */
  /* Police par défaut avec fallback robuste */
  --editor-font-family: 'Noto Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
  
  /* Sans-serif modernes */
  --font-inter: 'Inter', sans-serif;
  --font-open-sans: 'Open Sans', sans-serif;
  --font-roboto: 'Roboto', sans-serif;
  --font-lato: 'Lato', sans-serif;
  --font-source-sans-3: 'Source Sans 3', sans-serif;
  --font-work-sans: 'Work Sans', sans-serif;
  
  /* Serif classiques */
  --font-eb-garamond: 'EB Garamond', serif;
  --font-cormorant-garamond: 'Cormorant Garamond', serif;
  
  /* Système et monospace */
  --font-system: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
  --font-monospace: 'JetBrains Mono', 'Fira Code', 'Consolas', 'Monaco', monospace;

  /* ==========================================================================
     TAILLES HARMONISÉES
     ========================================================================== */
  --editor-title-size: 2.25rem;      /* 36px */
  --editor-body-size: 1.125rem;      /* 18px */
  --editor-body-size-mobile: 1rem;   /* Ajouté pour editor-content.css */
  --editor-h1-size: 2.25rem;         /* 36px */
  --editor-h2-size: 1.75rem;         /* 28px */
  --editor-h3-size: 1.375rem;        /* 22px */
  --editor-h4-size: 1.125rem;        /* 18px */
  --editor-h5-size: 1rem;            /* 16px */
  --editor-h6-size: 0.875rem;        /* 14px */
  
  /* === TAILLES SPÉCIALISÉES === */
  --editor-small-size: 0.875rem;     /* 14px */
  --editor-medium-size: 0.95rem;     /* 15px */
  --editor-large-size: 1.1rem;       /* 18px */
  --editor-xl-size: 1.2rem;          /* 19px */
  --editor-xxl-size: 1.5rem;         /* 24px */

  /* ==========================================================================
     RESPONSIVE TAILLES
     ========================================================================== */
  --editor-title-size-mobile: 1.875rem;  /* 30px */
  --editor-h1-size-mobile: 1.875rem;     /* 30px */
  --editor-h2-size-mobile: 1.5rem;       /* 24px */
  --editor-h3-size-mobile: 1.25rem;      /* 20px */

  /* ==========================================================================
     LARGEURS TYPOGRAPHIQUES
     ========================================================================== */
  --editor-content-width-normal: 750px;
  --editor-content-width-wide: 1000px;
  --editor-content-width: var(--editor-content-width-normal); /* Par défaut */

  /* ==========================================================================
     PADDINGS ET ESPACEMENTS TYPOGRAPHIQUES
     ========================================================================== */
  --editor-title-padding: 0 0 24px 0;
  --editor-content-padding: 12px 0 120px 0;
  --editor-title-line-height: 1.15;
  --editor-title-letter-spacing: -0.02em;
  --editor-title-min-height: 45px;
}

/* ==========================================================================
   CLASSES UTILITAIRES
   ========================================================================== */
.font-inter { font-family: var(--font-inter); }
.font-open-sans { font-family: var(--font-open-sans); }
.font-eb-garamond { font-family: var(--font-eb-garamond); }
.font-roboto { font-family: var(--font-roboto); }
.font-lato { font-family: var(--font-lato); }
.font-source-sans-3 { font-family: var(--font-source-sans-3); }
.font-work-sans { font-family: var(--font-work-sans); }
.font-cormorant-garamond { font-family: var(--font-cormorant-garamond); }
.font-monospace { font-family: var(--font-monospace); }
.font-noto-sans { font-family: var(--editor-font-family); }

/* ==========================================================================
   LAYOUT TYPOGRAPHIQUE - NOTE HEADER
   ==========================================================================
   Intégré depuis NoteHeaderLayout.css
   Gestion complète du positionnement titre/contenu
*/

/* Classe de base pour le layout */
.noteLayout {
  width: 100%;
  transition: all 0.2s ease;
}

/* Conteneur du titre */
.noteLayout-title {
  width: 100%;
  display: flex;
  justify-content: center;
  transition: all 0.2s ease;
}

/* Conteneur du contenu */
.noteLayout-content {
  width: 100%;
  display: flex;
  justify-content: center;
  transition: all 0.2s ease;
  background: var(--surface-1);
}

/* Style typographique complet du titre */
.noteLayout-title textarea {
  width: 100%;
  max-width: var(--editor-content-width);
  font-size: var(--editor-title-size);
  font-weight: 700;
  font-family: var(--editor-font-family);
  color: var(--editor-text-color);
  background: none;
  border: none;
  outline: none;
  padding: var(--editor-title-padding);
  margin: 0;
  letter-spacing: var(--editor-title-letter-spacing);
  resize: none;
  overflow: visible;
  line-height: var(--editor-title-line-height);
  min-height: var(--editor-title-min-height);
  height: auto;
  transition: all 0.2s ease;
}

/* Padding typographique du contenu */
.noteLayout-content .editor-content {
  padding: var(--editor-content-padding);
}

/* États du layout */

/* 1. Pas d'image */
.noteLayout.noImage .noteLayout-title {
  padding-top: 70px; /* Augmente franchement l'espacement au-dessus du titre */
}
.noteLayout.noImage .noteLayout-content {
  margin-top: 0px; /* Espacement nul entre le titre et le contenu */
}

.noteLayout.noImage .noteLayout-content .editor-content {
  padding-top: 0; /* Supprime le padding-top du conteneur editor */
}

.noteLayout.noImage .noteLayout-title textarea {
  padding-bottom: 12px; /* Réduit l'espacement entre titre et texte */
}



/* 2. Image avec titre intégré */
.noteLayout.imageWithTitle .noteLayout-title {
  position: absolute;
  top: 160px; /* Moitié de la hauteur de l'image (300px) */
  left: 50%;
  transform: translate(-50%, -50%);
  width: auto;
  max-width: 750px;
  padding: 0;
  box-sizing: border-box;
  text-align: center;
  z-index: 10;
}

.noteLayout.imageWithTitle .noteLayout-title textarea {
  color: white !important; /* Override pour le titre dans l'image */
  text-shadow: 0 2px 4px rgba(0,0,0,0.2);
  text-align: center;
  width: auto !important; /* S'adapte à la largeur du texte */
  max-width: 750px !important;
  padding: 0 0 4px 0 !important; /* Légère marge en bas */
  white-space: pre-wrap !important; /* Permet le retour à la ligne */
  overflow: visible !important; /* Assure que le texte n'est pas coupé */
}
.noteLayout.imageWithTitle .noteLayout-content {
  position: relative;
  top: 0;
  margin-top: -32px; /* Ajustement pour remonter le contenu */
  padding-top: 24px; /* Padding pour descendre le texte */
}

.noteLayout.imageWithTitle .noteLayout-content .editor-content {
  padding-top: 0; /* Supprime le padding-top */
}

.noteLayout.imageWithTitle .noteLayout-content .markdown-body {
  padding-top: 0; /* Supprime le padding-top */
}

/* 3. Image avec titre en dessous */
.noteLayout.imageOnly .noteLayout-title {
  padding-top: 8px; /* Espacement pour descendre le titre */
  text-align: left;
}
.noteLayout.imageOnly .noteLayout-title textarea {
  padding: 0; /* Supprime tout padding du textarea */
}
.noteLayout.imageOnly .noteLayout-content {
  margin-top: 0px; /* Espacement nul entre le titre et le contenu */
}

/* Responsive */
@media (max-width: 768px) {
  .noteLayout-title textarea {
    font-size: var(--editor-title-size-mobile);
  }
} 

/* ==========================================================================
   STYLES PAGE PUBLIQUE
   ==========================================================================
   Utilise les mêmes variables et logiques que l'éditeur
*/

/* Container principal de la page publique */
.public-note-container {
  width: 100vw;
  min-height: 100vh;
  background: var(--bg-main);
  color: var(--editor-text-color);
  padding-bottom: 64px;
}

/* ==========================================================================
   HEADER PAGE PUBLIQUE
   ==========================================================================
*/

/* Header de la page publique */
.public-page-header {
  width: 100%;
  max-width: 100vw;
  background: #18181b;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 9px 16px;
  border: none;
  box-shadow: none;
  position: sticky;
  top: 0;
  z-index: 100;
  box-sizing: border-box;
}

/* Partie gauche du header public */
.public-header-left {
  display: flex;
  align-items: center;
  gap: 32px;
}

/* Logo dans le header public */
.public-header-logo {
  display: flex;
  align-items: center;
  gap: 10px;
  text-decoration: none;
}

/* Search bar dans le header public */
.public-header-search {
  position: relative;
  display: flex;
  align-items: center;
}

.public-header-search-icon {
  position: absolute;
  left: 11px;
  color: var(--editor-text-muted);
  opacity: 0.7;
  pointer-events: none;
  width: 15px;
  height: 15px;
}

.public-header-search-input {
  width: 140px;
  height: 30px;
  background: transparent;
  border: 1px solid #3a3a3a;
  border-radius: 15px;
  padding: 0 12px 0 32px;
  color: #3a3a3a;
  font-family: var(--editor-font-family);
  font-size: 12px;
  outline: none;
  transition: all 0.2s ease;
}

.public-header-search-input::placeholder {
  color: #4a4a4a;
  opacity: 1;
}

.public-header-search-input:hover {
  background: transparent;
  border-color: #3a3a3a;
  color: #3a3a3a;
}

.public-header-search-input:focus {
  background: transparent;
  border-color: #3a3a3a;
  color: #3a3a3a;
}

/* Conteneur des boutons du header public */
.public-header-buttons {
  display: flex;
  align-items: center;
  gap: 18px;
  position: relative;
  height: 100%;
}

/* Bouton de connexion dans le header public */
.public-header-login {
  color: var(--accent-primary);
  background: none;
  font-weight: 500;
  font-size: 13px;
  text-decoration: none;
  font-family: var(--editor-font-family);
  letter-spacing: 0.01em;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  padding: 4px 12px;
  border-radius: 6px;
  border: 1px solid var(--accent-primary);
}

.public-header-login:hover {
  color: var(--accent-hover);
  border-color: var(--accent-hover);
}

/* Boutons du header public */
.public-header-button {
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  color: var(--editor-text-color);
  width: 36px;
  height: 36px;
  border-radius: 50%;
  transition: background 0.18s, color 0.18s;
  box-shadow: none;
  font-family: var(--editor-font-family);
  outline: none;
  font-size: 0;
  cursor: pointer;
}

.public-header-button:hover {
  background: rgba(255,255,255,0.08);
  color: var(--editor-text-color);
}

/* S'assurer que les menus s'affichent au-dessus de tout */
.public-header-buttons > div {
  z-index: 99999;
}

/* Forcer l'affichage des menus */
.public-kebab-menu,
.public-header-buttons > div[style*="position: absolute"] {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Aligner le menu partager avec le bouton */
.public-header-buttons > div[style*="position: absolute"] {
  right: 0;
}

/* Menu kebab de la page publique */
.public-kebab-menu {
  position: absolute;
  top: calc(100% + 4px);
  right: 0;
  background: #1a1a1c;
  border: 1px solid #2a2a2c;
  border-radius: 12px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
  z-index: 99999;
  min-width: 200px;
  margin-top: 8px;
  padding: 6px 0;
  backdrop-filter: blur(10px);
}

.public-kebab-menu-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  color: #D4D4D4;
  cursor: pointer;
  transition: background-color 0.15s ease;
  font-size: 14px;
  font-family: var(--editor-font-family);
  background: transparent;
  border: none;
  width: 100%;
  border-radius: 0;
}

.public-kebab-menu-item:hover {
  background: #2a2a2c;
}

/* Image d'en-tête publique */
.public-header-image {
  width: 100%;
  height: 300px;
  overflow: hidden;
  margin-bottom: 32px;
  position: relative;
}

.public-header-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 0;
  transition: filter 0.2s;
}

/* Overlay de l'image d'en-tête */
.public-header-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  transition: background 0.2s;
}

/* Titre dans l'image d'en-tête */
.public-header-title {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: auto;
  max-width: 750px;
  padding: 0;
  box-sizing: border-box;
  text-align: center;
  z-index: 10;
}

/* Wrapper du contenu de la note publique */
.public-note-content-wrapper {
  max-width: var(--editor-content-width);
  width: var(--editor-content-width);
  margin: 0 auto;
}

/* Container de la TOC publique */
.public-toc-container {
  position: fixed;
  top: 380px;
  right: 0;
  padding-right: 0;
  min-width: 220px;
  max-width: 320px;
  z-index: 20;
}

/* ==========================================================================
   CORRECTIONS SPÉCIFIQUES PAGE PUBLIQUE
   ==========================================================================
*/

/* Titre dans la page publique (pas dans l'image) - aligné à gauche */
.public-note-content-wrapper .noteLayout-title h1 {
  text-align: left;
  margin: 0;
  padding: 0;
  max-width: var(--editor-content-width);
  width: var(--editor-content-width);
  line-height: 1.1;
  color: var(--editor-text-color);
  font-size: var(--editor-title-size);
  font-weight: 700;
}

/* Contenu de la page publique */
.public-note-content-wrapper .noteLayout-content {
  color: var(--editor-text-color);
}

/* Titre dans l'image d'en-tête */
.public-header-title h1 {
  color: white;
  text-shadow: 0 2px 4px rgba(0,0,0,0.2);
  font-size: var(--editor-title-size);
  font-weight: 700;
  margin: 0;
  text-align: center;
  width: auto;
  max-width: 750px;
  padding: 0 0 4px 0;
  white-space: pre-wrap;
  overflow: visible;
} 