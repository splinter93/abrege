/* ========================================
   CHAT GLASSMORPHISM - SYSTÈME MODERNE
   ========================================
   Système glassmorphism optimisé spécifiquement pour le chat
   avec des effets de transparence, blur et gradients modernes
*/

:root {
  /* ========================================
     VARIABLES GLASSMORPHISM CHAT
     ======================================== */
  
  /* Backgrounds glassmorphism - Progression subtile et optimisée */
  --glass-bg-base: rgba(255, 255, 255, 0.04);
  --glass-bg-subtle: rgba(255, 255, 255, 0.06);
  --glass-bg-soft: rgba(255, 255, 255, 0.09);
  --glass-bg-medium: rgba(255, 255, 255, 0.12);
  --glass-bg-strong: rgba(255, 255, 255, 0.16);
  --glass-bg-heavy: rgba(255, 255, 255, 0.20);
  
  /* Backgrounds avec accent coloré */
  --glass-bg-accent: rgba(59, 130, 246, 0.08);
  --glass-bg-accent-hover: rgba(59, 130, 246, 0.12);
  --glass-bg-accent-strong: rgba(59, 130, 246, 0.15);
  
  /* Bordures glassmorphism - Progression subtile et optimisée */
  --glass-border-subtle: rgba(255, 255, 255, 0.05);
  --glass-border-soft: rgba(255, 255, 255, 0.07);
  --glass-border-medium: rgba(255, 255, 255, 0.09);
  --glass-border-strong: rgba(255, 255, 255, 0.13);
  --glass-border-heavy: rgba(255, 255, 255, 0.18);
  
  /* Bordures avec accent */
  --glass-border-accent: rgba(59, 130, 246, 0.2);
  --glass-border-accent-hover: rgba(59, 130, 246, 0.3);
  
  /* Effets de blur - Progression cohérente et optimisée */
  --glass-blur-light: blur(6px);
  --glass-blur-medium: blur(10px);
  --glass-blur-heavy: blur(14px);
  --glass-blur-strong: blur(18px);
  
  /* Ombres glassmorphism - Progression subtile */
  --glass-shadow-subtle: 0 2px 8px rgba(0, 0, 0, 0.08);
  --glass-shadow-soft: 0 4px 16px rgba(0, 0, 0, 0.12);
  --glass-shadow-medium: 0 8px 24px rgba(0, 0, 0, 0.15);
  --glass-shadow-strong: 0 12px 32px rgba(0, 0, 0, 0.18);
  --glass-shadow-heavy: 0 16px 40px rgba(0, 0, 0, 0.22);
  
  /* Gradients glassmorphism - Optimisés pour un effet moderne */
  --glass-gradient-subtle: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.08) 0%, 
    rgba(255, 255, 255, 0.04) 50%, 
    rgba(255, 255, 255, 0.02) 100%);
  
  --glass-gradient-soft: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.10) 0%, 
    rgba(255, 255, 255, 0.06) 50%, 
    rgba(255, 255, 255, 0.03) 100%);
  
  --glass-gradient-medium: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.12) 0%, 
    rgba(255, 255, 255, 0.08) 50%, 
    rgba(255, 255, 255, 0.05) 100%);
  
  --glass-gradient-strong: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.15) 0%, 
    rgba(255, 255, 255, 0.10) 50%, 
    rgba(255, 255, 255, 0.06) 100%);
  
  /* Gradients avec accent */
  --glass-gradient-accent: linear-gradient(135deg, 
    rgba(59, 130, 246, 0.15) 0%, 
    rgba(59, 130, 246, 0.08) 50%, 
    rgba(59, 130, 246, 0.04) 100%);
  
  --glass-gradient-accent-hover: linear-gradient(135deg, 
    rgba(59, 130, 246, 0.2) 0%, 
    rgba(59, 130, 246, 0.12) 50%, 
    rgba(59, 130, 246, 0.06) 100%);
  
  /* ========================================
     ÉTATS INTERACTIFS
     ======================================== */
  
  /* Hover states - Cohérent avec sidebar */
  --glass-hover-bg: var(--glass-sidebar-item-hover);
  --glass-hover-border: var(--glass-sidebar-item-border-active);
  --glass-hover-shadow: var(--glass-sidebar-item-shadow-hover);
  
  /* Focus states - Cohérent avec sidebar */
  --glass-focus-bg: var(--glass-sidebar-item-active);
  --glass-focus-border: var(--glass-sidebar-item-border-active);
  --glass-focus-shadow: var(--glass-sidebar-item-shadow-active);
  
  /* Active states - Cohérent avec sidebar */
  --glass-active-bg: var(--glass-sidebar-item-active);
  --glass-active-border: var(--glass-sidebar-item-border-active);
  --glass-active-shadow: var(--glass-sidebar-item-shadow-active);
  
  /* ========================================
     VARIANTES SPÉCIALISÉES
     ======================================== */
  
  /* Input glassmorphism - Cohérent avec sidebar */
  --glass-input-bg: var(--glass-sidebar-item-bg);
  --glass-input-border: var(--glass-sidebar-item-border);
  --glass-input-focus: var(--glass-sidebar-item-border-active);
  --glass-input-shadow: var(--glass-sidebar-item-shadow);
  
  /* Button glassmorphism - Cohérent avec sidebar */
  --glass-button-bg: var(--glass-sidebar-item-bg);
  --glass-button-hover: var(--glass-sidebar-item-hover);
  --glass-button-active: var(--glass-sidebar-item-active);
  --glass-button-shadow: var(--glass-sidebar-item-shadow);
  
  /* Message bubble glassmorphism - Optimisé pour la lisibilité */
  --glass-message-user: rgba(255, 255, 255, 0.09);
  --glass-message-user-border: rgba(255, 255, 255, 0.13);
  --glass-message-user-shadow: 0 3px 12px rgba(0, 0, 0, 0.12);
  
  /* Glassmorphism à peine perceptible - Sidebar & Header */
  --glass-sidebar-bg: rgba(255, 255, 255, 0.01);
  --glass-sidebar-border: rgba(255, 255, 255, 0.02);
  --glass-sidebar-shadow: 0 4px 16px rgba(0, 0, 0, 0.02);
  
  --glass-header-bg: rgba(0, 0, 0, 0.08);
  --glass-header-border: rgba(255, 255, 255, 0.03);
  --glass-header-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
  
  /* Éléments sidebar - Glassmorphism à peine perceptible */
  --glass-sidebar-item-bg: transparent;
  --glass-sidebar-item-hover: rgba(255, 255, 255, 0.02);
  --glass-sidebar-item-active: rgba(255, 255, 255, 0.03);
  --glass-sidebar-item-border: transparent;
  --glass-sidebar-item-border-active: rgba(255, 255, 255, 0.05);
  --glass-sidebar-item-shadow: none;
  --glass-sidebar-item-shadow-hover: 0 2px 8px rgba(0, 0, 0, 0.02);
  --glass-sidebar-item-shadow-active: 0 4px 12px rgba(0, 0, 0, 0.03);
  
  /* ========================================
     ANIMATIONS GLASSMORPHISM
     ======================================== */
  
  --glass-transition-fast: 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  --glass-transition-normal: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  --glass-transition-slow: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  
  /* ========================================
     RESPONSIVE GLASSMORPHISM
     ======================================== */
  
  /* Mobile - Réduire les effets pour les performances */
  --glass-mobile-blur: blur(6px);
  --glass-mobile-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  
  /* Desktop - Effets complets */
  --glass-desktop-blur: blur(16px);
  --glass-desktop-shadow: 0 12px 32px rgba(0, 0, 0, 0.18);
}

/* ========================================
   MIXINS GLASSMORPHISM UTILITAIRES
   ======================================== */

/* Mixin de base pour glassmorphism */
.glass-base {
  background: var(--glass-bg-base);
  backdrop-filter: var(--glass-blur-medium);
  -webkit-backdrop-filter: var(--glass-blur-medium);
  border: 1px solid var(--glass-border-soft);
  box-shadow: var(--glass-shadow-soft);
  transition: all var(--glass-transition-normal);
}

/* Mixin pour glassmorphism subtil */
.glass-subtle {
  background: var(--glass-bg-subtle);
  backdrop-filter: var(--glass-blur-light);
  -webkit-backdrop-filter: var(--glass-blur-light);
  border: 1px solid var(--glass-border-subtle);
  box-shadow: var(--glass-shadow-subtle);
  transition: all var(--glass-transition-normal);
}

/* Mixin pour glassmorphism fort */
.glass-strong {
  background: var(--glass-bg-strong);
  backdrop-filter: var(--glass-blur-heavy);
  -webkit-backdrop-filter: var(--glass-blur-heavy);
  border: 1px solid var(--glass-border-strong);
  box-shadow: var(--glass-shadow-strong);
  transition: all var(--glass-transition-normal);
}

/* Mixin pour glassmorphism avec accent */
.glass-accent {
  background: var(--glass-bg-accent);
  backdrop-filter: var(--glass-blur-medium);
  -webkit-backdrop-filter: var(--glass-blur-medium);
  border: 1px solid var(--glass-border-accent);
  box-shadow: var(--glass-shadow-medium);
  transition: all var(--glass-transition-normal);
}

/* ========================================
   ÉTATS INTERACTIFS GLOBALES
   ======================================== */

/* Hover effect pour tous les éléments glassmorphism */
.glass-base:hover,
.glass-subtle:hover,
.glass-strong:hover,
.glass-accent:hover {
  background: var(--glass-hover-bg);
  border-color: var(--glass-hover-border);
  box-shadow: var(--glass-hover-shadow);
  transform: translateY(-1px);
}

/* Focus effect pour les éléments interactifs */
.glass-base:focus,
.glass-subtle:focus,
.glass-strong:focus,
.glass-accent:focus {
  background: var(--glass-focus-bg);
  border-color: var(--glass-focus-border);
  box-shadow: var(--glass-focus-shadow);
  outline: none;
}

/* Active effect pour les boutons */
.glass-base:active,
.glass-subtle:active,
.glass-strong:active,
.glass-accent:active {
  background: var(--glass-active-bg);
  border-color: var(--glass-active-border);
  box-shadow: var(--glass-active-shadow);
  transform: translateY(0);
}

/* ========================================
   RESPONSIVE GLASSMORPHISM
   ======================================== */

/* Mobile - Optimiser les performances */
@media (max-width: 768px) {
  .glass-base,
  .glass-subtle,
  .glass-strong,
  .glass-accent {
    backdrop-filter: var(--glass-mobile-blur);
    -webkit-backdrop-filter: var(--glass-mobile-blur);
    box-shadow: var(--glass-mobile-shadow);
  }
}

/* Desktop - Effets complets */
@media (min-width: 769px) {
  .glass-base,
  .glass-subtle,
  .glass-strong,
  .glass-accent {
    backdrop-filter: var(--glass-desktop-blur);
    -webkit-backdrop-filter: var(--glass-desktop-blur);
    box-shadow: var(--glass-desktop-shadow);
  }
}

/* ========================================
   OPTIMISATIONS PERFORMANCE
   ======================================== */

/* Réduire les animations sur les appareils lents */
@media (prefers-reduced-motion: reduce) {
  .glass-base,
  .glass-subtle,
  .glass-strong,
  .glass-accent {
    transition: none;
  }
  
  .glass-base:hover,
  .glass-subtle:hover,
  .glass-strong:hover,
  .glass-accent:hover {
    transform: none;
  }
}

/* Désactiver le glassmorphism sur les navigateurs non supportés */
@supports not (backdrop-filter: blur(1px)) {
  .glass-base,
  .glass-subtle,
  .glass-strong,
  .glass-accent {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
  }
}
