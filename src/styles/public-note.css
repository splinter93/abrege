/* ==========================================================================
   STYLES SPÉCIFIQUES PAGE PUBLIQUE - PRIORITÉ MAXIMALE
   ==========================================================================
   Ce fichier doit être chargé EN DERNIER pour éviter le flash blanc
   Utilise une spécificité très élevée pour écraser tous les autres styles
   
   IMPORTANT: Les paramètres de blur et overlay doivent respecter strictement
   la logique de typography.css pour éviter les effets indésirables
*/

/* Forcer le thème sombre sur TOUTE la page publique - spécificité maximale */
html.public-note-page,
html.public-note-page body,
html.public-note-page .public-note-container,
html.public-note-page .public-note-container *,
html.public-note-page .public-note-container html,
html.public-note-page .public-note-container body,
html.public-note-page .public-note-container div,
html.public-note-page .public-note-container section,
html.public-note-page .public-note-container article,
html.public-note-page .public-note-container main,
html.public-note-page .public-note-container aside,
html.public-note-page .public-note-container header,
html.public-note-page .public-note-container footer {
  background-color: #141414 !important;
  background: #141414 !important;
  color: #F5F5DC !important;
}

/* Container principal de la page publique */
.public-note-container {
  width: 100vw;
  min-height: 100vh;
  background: #141414 !important;
  background-color: #141414 !important;
  color: #F5F5DC !important;
  padding-bottom: 64px;
}

/* S'assurer que le thème sombre est appliqué sur toute la page publique */
.public-note-container,
.public-note-container * {
  background-color: #141414 !important;
  background: #141414 !important;
}

/* Exception pour les éléments qui doivent garder leur background spécifique */
.public-note-container .public-header-image,
.public-note-container .public-header-overlay,
.public-note-container .stat-icon,
.public-note-container .quick-btn.primary,
.public-note-container a[href*="scrivia.app"] {
  background-color: inherit !important;
  background: inherit !important;
}

/* Forcer le background sombre sur la page publique - plus spécifique */
.public-note-container,
.public-note-container *,
.public-note-container html,
.public-note-container body {
  background-color: #141414 !important;
  background: #141414 !important;
}

/* Styles spécifiques pour éviter le flash */
.public-note-container {
  background: #141414 !important;
  background-color: #141414 !important;
}

/* Override complet du body pour la page publique */
body.public-note-page {
  background: #141414 !important;
  background-color: #141414 !important;
  color: #F5F5DC !important;
}

/* Override du html pour la page publique */
html.public-note-page {
  background: #141414 !important;
  background-color: #141414 !important;
}

/* ==========================================================================
   GESTION CORRECTE DES PARAMÈTRES D'IMAGE D'EN-TÊTE
   ==========================================================================
   Respect strict des paramètres de typography.css
*/

/* Image d'en-tête avec blur contrôlé */
.public-note-container .public-header-image img {
  /* Le blur est appliqué via les styles inline du composant */
  /* Pas de CSS qui puisse entrer en conflit */
  filter: none; /* Reset pour éviter les conflits */
  
  /* Respecter strictement les styles de typography.css */
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 0;
  transition: filter 0.2s;
}

/* Overlay avec la formule exacte de l'éditeur */
.public-note-container .public-header-overlay {
  /* Position et comportement de base - respect strict de typography.css */
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  transition: background 0.2s;
  
  /* L'opacité est calculée via les styles inline du composant */
  /* Formule exacte de l'éditeur: rgba(24,24,24,${0.08 + 0.14 * headerImageOverlay}) */
  background-color: transparent; /* Reset pour éviter les conflits */
  
  /* S'assurer que les styles inline ne sont pas écrasés */
  background: transparent !important;
}

/* Titre dans l'image - respect strict de typography.css */
.public-note-container .public-header-title {
  /* Utilise exactement les styles de typography.css */
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: auto;
  max-width: 750px;
  padding: 0;
  box-sizing: border-box;
  text-align: center;
  z-index: 10;
}

.public-note-container .public-header-title h1 {
  /* Respect strict des styles de typography.css */
  color: white;
  text-shadow: 0 2px 4px rgba(0,0,0,0.2);
  font-size: var(--editor-title-size);
  font-weight: 700;
  margin: 0;
  text-align: center;
  width: auto;
  max-width: 750px;
  padding: 0 0 4px 0;
  white-space: pre-wrap;
  overflow: visible;
} 