{
  "openapi": "3.1.0",
  "info": {
    "title": "Scrivia API V2 - Cl√© API",
    "description": "API REST pour la gestion des notes, classeurs et dossiers avec authentification par cl√© API uniquement",
    "version": "2.0.0"
  },
  "servers": [
    {
      "url": "https://scrivia.app/api/v2",
      "description": "Serveur de production Scrivia"
    }
  ],
  "security": [
    {
      "ApiKeyAuth": []
    }
  ],
  "tags": [
    { 
      "name": "Authentification", 
      "description": "Gestion de l'authentification et profil utilisateur" 
    },
    { 
      "name": "Classeurs", 
      "description": "Gestion des classeurs (organisateurs de notes)" 
    },
    { 
      "name": "Notes", 
      "description": "Gestion des notes et articles" 
    },
    { 
      "name": "Dossiers", 
      "description": "Gestion des dossiers et arborescences" 
    },
    { 
      "name": "Recherche", 
      "description": "Recherche textuelle dans le contenu" 
    }
  ],
  "paths": {
    "/me": {
      "get": {
        "summary": "R√©cup√©rer l'utilisateur authentifi√©",
        "description": "R√©cup√®re les informations du profil de l'utilisateur authentifi√© par cl√© API",
        "tags": ["Authentification"],
        "operationId": "getAuthenticatedUserV2",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Profil utilisateur r√©cup√©r√© avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { 
                      "type": "boolean",
                      "example": true,
                      "description": "Indique si l'op√©ration a r√©ussi"
                    },
                    "user": { 
                      "$ref": "#/components/schemas/User",
                      "description": "Informations du profil utilisateur"
                    }
                  },
                  "required": ["success", "user"]
                }
              }
            }
          },
          "401": { 
            "$ref": "#/components/responses/Unauthorized",
            "description": "Authentification requise - Cl√© API manquante/invalide"
          },
          "500": { "$ref": "#/components/responses/ServerError" }
        }
      }
    },
    "/classeurs": {
      "get": {
        "summary": "Lister tous les classeurs de l'utilisateur",
        "description": "R√©cup√®re la liste compl√®te des classeurs appartenant √† l'utilisateur authentifi√© par cl√© API",
        "tags": ["Classeurs"],
        "operationId": "listClasseursV2",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Liste des classeurs r√©cup√©r√©e avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { 
                      "type": "boolean",
                      "example": true,
                      "description": "Indique si l'op√©ration a r√©ussi"
                    },
                    "classeurs": { 
                      "type": "array", 
                      "items": { "$ref": "#/components/schemas/Classeur" },
                      "description": "Liste des classeurs de l'utilisateur"
                    }
                  },
                  "required": ["success", "classeurs"]
                }
              }
            }
          },
          "401": { 
            "$ref": "#/components/responses/Unauthorized",
            "description": "Authentification requise - Cl√© API manquante/invalide"
          },
          "403": { 
            "$ref": "#/components/responses/Forbidden",
            "description": "Permissions insuffisantes pour acc√©der aux classeurs"
          },
          "500": { 
            "$ref": "#/components/responses/ServerError" 
          }
        }
      },
      "post": {
        "summary": "Cr√©er un nouveau classeur",
        "description": "Cr√©e un nouveau classeur pour l'utilisateur authentifi√©",
        "tags": ["Classeurs"],
        "operationId": "createClasseurV2",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["name"],
                "properties": {
                  "name": {
                    "type": "string",
                    "maxLength": 255,
                    "description": "Nom du classeur",
                    "example": "Mes Notes"
                  },
                  "description": {
                    "type": "string",
                    "maxLength": 500,
                    "description": "Description optionnelle du classeur"
                  },
                  "emoji": {
                    "type": "string",
                    "description": "Emoji repr√©sentant le classeur",
                    "example": "üìù"
                  },
                  "color": {
                    "type": "string",
                    "description": "Couleur d'accent du classeur",
                    "example": "#2994ff"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Classeur cr√©√© avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "classeur": {
                      "$ref": "#/components/schemas/Classeur"
                    }
                  },
                  "required": ["success", "classeur"]
                }
              }
            }
          },
          "400": {
            "description": "Donn√©es invalides",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Le nom du classeur est requis"
                    }
                  }
                }
              }
            }
          },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "500": { "$ref": "#/components/responses/ServerError" }
        }
      }
    },
    "/classeurs/{id}": {
      "get": {
        "summary": "R√©cup√©rer un classeur sp√©cifique",
        "description": "R√©cup√®re les d√©tails d'un classeur par son ID ou slug",
        "tags": ["Classeurs"],
        "operationId": "getClasseurV2",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID ou slug du classeur",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Classeur r√©cup√©r√© avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "classeur": {
                      "$ref": "#/components/schemas/Classeur"
                    }
                  },
                  "required": ["success", "classeur"]
                }
              }
            }
          },
          "404": {
            "description": "Classeur non trouv√©",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Classeur non trouv√©"
                    }
                  }
                }
              }
            }
          },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "500": { "$ref": "#/components/responses/ServerError" }
        }
      },
      "put": {
        "summary": "Modifier un classeur",
        "description": "Met √† jour les informations d'un classeur existant",
        "tags": ["Classeurs"],
        "operationId": "updateClasseurV2",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID ou slug du classeur",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "maxLength": 255,
                    "description": "Nouveau nom du classeur"
                  },
                  "description": {
                    "type": "string",
                    "maxLength": 500,
                    "description": "Nouvelle description du classeur"
                  },
                  "emoji": {
                    "type": "string",
                    "description": "Nouvel emoji du classeur"
                  },
                  "color": {
                    "type": "string",
                    "description": "Nouvelle couleur d'accent du classeur"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Classeur modifi√© avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "classeur": {
                      "$ref": "#/components/schemas/Classeur"
                    }
                  },
                  "required": ["success", "classeur"]
                }
              }
            }
          },
          "400": {
            "description": "Donn√©es invalides",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Donn√©es invalides"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Classeur non trouv√©",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Classeur non trouv√©"
                    }
                  }
                }
              }
            }
          },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "500": { "$ref": "#/components/responses/ServerError" }
        }
      },
      "delete": {
        "summary": "Supprimer un classeur",
        "description": "Supprime d√©finitivement un classeur et tout son contenu",
        "tags": ["Classeurs"],
        "operationId": "deleteClasseurV2",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID ou slug du classeur",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Classeur supprim√© avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Classeur supprim√© avec succ√®s"
                    }
                  },
                  "required": ["success", "message"]
                }
              }
            }
          },
          "404": {
            "description": "Classeur non trouv√©",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Classeur non trouv√©"
                    }
                  }
                }
              }
            }
          },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "500": { "$ref": "#/components/responses/ServerError" }
        }
      }
    },
    "/notes": {
      "get": {
        "summary": "Lister toutes les notes de l'utilisateur",
        "description": "R√©cup√®re la liste compl√®te des notes appartenant √† l'utilisateur authentifi√© par cl√© API",
        "tags": ["Notes"],
        "operationId": "listNotesV2",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "query",
            "description": "ID sp√©cifique d'une note √† r√©cup√©rer",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "classeur_id",
            "in": "query",
            "description": "Filtrer par classeur",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "folder_id",
            "in": "query",
            "description": "Filtrer par dossier",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "is_published",
            "in": "query",
            "description": "Filtrer par statut de publication",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Nombre maximum de notes √† retourner",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 50
            }
          },
          {
            "name": "offset",
            "in": "query",
            "description": "Nombre de notes √† ignorer pour la pagination",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Liste des notes r√©cup√©r√©e avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { 
                      "type": "boolean",
                      "example": true
                    },
                    "notes": { 
                      "type": "array", 
                      "items": { "$ref": "#/components/schemas/Note" }
                    },
                    "total": {
                      "type": "integer",
                      "description": "Nombre total de notes"
                    },
                    "limit": {
                      "type": "integer",
                      "description": "Limite appliqu√©e"
                    },
                    "offset": {
                      "type": "integer",
                      "description": "Offset appliqu√©"
                    }
                  },
                  "required": ["success", "notes"]
                }
              }
            }
          },
          "401": { 
            "$ref": "#/components/responses/Unauthorized",
            "description": "Authentification requise - Cl√© API manquante/invalide"
          },
          "500": { "$ref": "#/components/responses/ServerError" }
        }
      },
      "post": {
        "summary": "Cr√©er une nouvelle note",
        "description": "Cr√©e une nouvelle note dans le syst√®me",
        "tags": ["Notes"],
        "operationId": "createNoteV2",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["source_title", "markdown_content"],
                "properties": {
                  "source_title": {
                    "type": "string",
                    "description": "Titre de la note",
                    "maxLength": 255
                  },
                  "markdown_content": {
                    "type": "string",
                    "description": "Contenu de la note en format Markdown"
                  },
                  "folder_id": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID du dossier parent"
                  },
                  "classeur_id": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID du classeur parent"
                  },
                  "is_published": {
                    "type": "boolean",
                    "description": "Statut de publication de la note",
                    "default": false
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Note cr√©√©e avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "note": {
                      "$ref": "#/components/schemas/Note"
                    }
                  },
                  "required": ["success", "note"]
                }
              }
            }
          },
          "400": {
            "description": "Donn√©es invalides",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Le titre et le contenu sont requis"
                    }
                  }
                }
              }
            }
          },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "500": { "$ref": "#/components/responses/ServerError" }
        }
      }
    },
    "/notes/{id}": {
      "get": {
        "summary": "R√©cup√©rer une note sp√©cifique",
        "description": "R√©cup√®re les d√©tails d'une note par son ID ou slug",
        "tags": ["Notes"],
        "operationId": "getNoteV2",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID ou slug de la note",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Note r√©cup√©r√©e avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "note": {
                      "$ref": "#/components/schemas/Note"
                    }
                  },
                  "required": ["success", "note"]
                }
              }
            }
          },
          "404": {
            "description": "Note non trouv√©e",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Note non trouv√©e"
                    }
                  }
                }
              }
            }
          },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "500": { "$ref": "#/components/responses/ServerError" }
        }
      },
      "put": {
        "summary": "Modifier une note",
        "description": "Met √† jour le contenu et les m√©tadonn√©es d'une note existante",
        "tags": ["Notes"],
        "operationId": "updateNoteV2",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID ou slug de la note",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "source_title": {
                    "type": "string",
                    "description": "Nouveau titre de la note",
                    "maxLength": 255
                  },
                  "markdown_content": {
                    "type": "string",
                    "description": "Nouveau contenu de la note en format Markdown"
                  },
                  "folder_id": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Nouveau dossier parent"
                  },
                  "classeur_id": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Nouveau classeur parent"
                  },
                  "is_published": {
                    "type": "boolean",
                    "description": "Nouveau statut de publication"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Note modifi√©e avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "note": {
                      "$ref": "#/components/schemas/Note"
                    }
                  },
                  "required": ["success", "note"]
                }
              }
            }
          },
          "400": {
            "description": "Donn√©es invalides",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Donn√©es invalides"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Note non trouv√©e",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Note non trouv√©e"
                    }
                  }
                }
              }
            }
          },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "500": { "$ref": "#/components/responses/ServerError" }
        }
      },
      "delete": {
        "summary": "Supprimer une note",
        "description": "Supprime d√©finitivement une note",
        "tags": ["Notes"],
        "operationId": "deleteNoteV2",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID ou slug de la note",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Note supprim√©e avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Note supprim√©e avec succ√®s"
                    }
                  },
                  "required": ["success", "message"]
                }
              }
            }
          },
          "404": {
            "description": "Note non trouv√©e",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Note non trouv√©e"
                    }
                  }
                }
              }
            }
          },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "500": { "$ref": "#/components/responses/ServerError" }
        }
      }
    },
    "/folders": {
      "get": {
        "summary": "Lister tous les dossiers de l'utilisateur",
        "description": "R√©cup√®re la liste compl√®te des dossiers appartenant √† l'utilisateur authentifi√© par cl√© API",
        "tags": ["Dossiers"],
        "operationId": "listFoldersV2",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "classeur_id",
            "in": "query",
            "description": "Filtrer par classeur",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "parent_id",
            "in": "query",
            "description": "Filtrer par dossier parent (null pour la racine)",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Liste des dossiers r√©cup√©r√©e avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { 
                      "type": "boolean",
                      "example": true
                    },
                    "folders": { 
                      "type": "array", 
                      "items": { "$ref": "#/components/schemas/Folder" }
                    }
                  },
                  "required": ["success", "folders"]
                }
              }
            }
          },
          "401": { 
            "$ref": "#/components/responses/Unauthorized",
            "description": "Authentification requise - Cl√© API manquante/invalide"
          },
          "500": { "$ref": "#/components/responses/ServerError" }
        }
      },
      "post": {
        "summary": "Cr√©er un nouveau dossier",
        "description": "Cr√©e un nouveau dossier dans l'arborescence",
        "tags": ["Dossiers"],
        "operationId": "createFolderV2",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["name", "classeur_id"],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Nom du dossier",
                    "maxLength": 255
                  },
                  "classeur_id": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID du classeur parent"
                  },
                  "parent_id": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID du dossier parent (null pour la racine)"
                  },
                  "position": {
                    "type": "integer",
                    "description": "Position d'ordre dans le dossier parent",
                    "minimum": 0
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Dossier cr√©√© avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "folder": {
                      "$ref": "#/components/schemas/Folder"
                    }
                  },
                  "required": ["success", "folder"]
                }
              }
            }
          },
          "400": {
            "description": "Donn√©es invalides",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Le nom et le classeur sont requis"
                    }
                  }
                }
              }
            }
          },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "500": { "$ref": "#/components/responses/ServerError" }
        }
      }
    },
    "/folders/{id}": {
      "get": {
        "summary": "R√©cup√©rer un dossier sp√©cifique",
        "description": "R√©cup√®re les d√©tails d'un dossier par son ID ou slug",
        "tags": ["Dossiers"],
        "operationId": "getFolderV2",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID ou slug du dossier",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Dossier r√©cup√©r√© avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "folder": {
                      "$ref": "#/components/schemas/Folder"
                    }
                  },
                  "required": ["success", "folder"]
                }
              }
            }
          },
          "404": {
            "description": "Dossier non trouv√©",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Dossier non trouv√©"
                    }
                  }
                }
              }
            }
          },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "500": { "$ref": "#/components/responses/ServerError" }
        }
      },
      "put": {
        "summary": "Modifier un dossier",
        "description": "Met √† jour les informations d'un dossier existant",
        "tags": ["Dossiers"],
        "operationId": "updateFolderV2",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID ou slug du dossier",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Nouveau nom du dossier",
                    "maxLength": 255
                  },
                  "parent_id": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Nouveau dossier parent"
                  },
                  "position": {
                    "type": "integer",
                    "description": "Nouvelle position d'ordre",
                    "minimum": 0
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Dossier modifi√© avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "folder": {
                      "$ref": "#/components/schemas/Folder"
                    }
                  },
                  "required": ["success", "folder"]
                }
              }
            }
          },
          "400": {
            "description": "Donn√©es invalides",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Donn√©es invalides"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Dossier non trouv√©",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Dossier non trouv√©"
                    }
                  }
                }
              }
            }
          },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "500": { "$ref": "#/components/responses/ServerError" }
        }
      },
      "delete": {
        "summary": "Supprimer un dossier",
        "description": "Supprime d√©finitivement un dossier et tout son contenu",
        "tags": ["Dossiers"],
        "operationId": "deleteFolderV2",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "ID ou slug du dossier",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Dossier supprim√© avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Dossier supprim√© avec succ√®s"
                    }
                  },
                  "required": ["success", "message"]
                }
              }
            }
          },
          "404": {
            "description": "Dossier non trouv√©",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Dossier non trouv√©"
                    }
                  }
                }
              }
            }
          },
          "401": { "$ref": "#/components/responses/Unauthorized" },
          "500": { "$ref": "#/components/responses/ServerError" }
        }
      }
    },
         "/search": {
       "get": {
         "summary": "Rechercher dans le contenu",
         "description": "Effectue une recherche textuelle dans les notes et dossiers",
         "tags": ["Recherche"],
         "operationId": "searchContentV2",
         "security": [
           {
             "ApiKeyAuth": []
           }
         ],
         "parameters": [
           {
             "name": "q",
             "in": "query",
             "required": true,
             "description": "Terme de recherche",
             "schema": {
               "type": "string",
               "minLength": 1
             }
           },
           {
             "name": "classeur_id",
             "in": "query",
             "description": "Limiter la recherche √† un classeur sp√©cifique",
             "required": false,
             "schema": {
               "type": "string",
               "format": "uuid"
             }
           },
           {
             "name": "type",
             "in": "query",
             "description": "Type de contenu √† rechercher",
             "required": false,
             "schema": {
               "type": "string",
               "enum": ["notes", "folders", "all"],
               "default": "all"
             }
           },
           {
             "name": "limit",
             "in": "query",
             "description": "Nombre maximum de r√©sultats",
             "required": false,
             "schema": {
               "type": "integer",
               "minimum": 1,
               "maximum": 100,
               "default": 20
             }
           }
         ],
         "responses": {
           "200": {
             "description": "R√©sultats de recherche",
             "content": {
               "application/json": {
                 "schema": {
                   "type": "object",
                   "properties": {
                     "success": {
                       "type": "boolean",
                       "example": true
                     },
                     "query": {
                       "type": "string",
                       "description": "Terme de recherche utilis√©"
                     },
                     "results": {
                       "type": "array",
                       "items": {
                         "type": "object",
                         "properties": {
                           "type": {
                             "type": "string",
                             "enum": ["note", "folder"],
                             "description": "Type du r√©sultat"
                           },
                           "id": {
                             "type": "string",
                             "format": "uuid",
                             "description": "ID de l'√©l√©ment"
                           },
                           "title": {
                             "type": "string",
                             "description": "Titre ou nom de l'√©l√©ment"
                           },
                           "slug": {
                             "type": "string",
                             "description": "Slug de l'√©l√©ment"
                           },
                           "classeur_id": {
                             "type": "string",
                             "format": "uuid",
                             "description": "ID du classeur parent"
                           },
                           "score": {
                             "type": "number",
                             "description": "Score de pertinence de la recherche"
                           },
                           "excerpt": {
                             "type": "string",
                             "description": "Extrait du contenu correspondant"
                           }
                         }
                       }
                     },
                     "total": {
                       "type": "integer",
                       "description": "Nombre total de r√©sultats"
                     }
                   },
                   "required": ["success", "query", "results"]
                 }
               }
             }
           },
           "400": {
             "description": "Requ√™te de recherche invalide",
             "content": {
               "application/json": {
                 "schema": {
                   "type": "object",
                   "properties": {
                     "error": {
                       "type": "string",
                       "example": "Le terme de recherche est requis"
                     }
                   }
                 }
               }
             }
           },
           "401": { "$ref": "#/components/responses/Unauthorized" },
           "500": { "$ref": "#/components/responses/ServerError" }
         }
       }
     },
     "/stats": {
       "get": {
         "summary": "R√©cup√©rer les statistiques utilisateur",
         "description": "R√©cup√®re les statistiques globales de l'utilisateur (nombre de notes, classeurs, dossiers)",
         "tags": ["Authentification"],
         "operationId": "getUserStatsV2",
         "security": [
           {
             "ApiKeyAuth": []
           }
         ],
         "responses": {
           "200": {
             "description": "Statistiques r√©cup√©r√©es avec succ√®s",
             "content": {
               "application/json": {
                 "schema": {
                   "type": "object",
                   "properties": {
                     "success": {
                       "type": "boolean",
                       "example": true
                     },
                     "stats": {
                       "type": "object",
                       "properties": {
                         "total_notes": {
                           "type": "integer",
                           "description": "Nombre total de notes"
                         },
                         "total_classeurs": {
                           "type": "integer",
                           "description": "Nombre total de classeurs"
                         },
                         "total_folders": {
                           "type": "integer",
                           "description": "Nombre total de dossiers"
                         },
                         "published_notes": {
                           "type": "integer",
                           "description": "Nombre de notes publi√©es"
                         },
                         "total_content_size": {
                           "type": "integer",
                           "description": "Taille totale du contenu en octets"
                         }
                       }
                     }
                   },
                   "required": ["success", "stats"]
                 }
               }
             }
           },
           "401": { "$ref": "#/components/responses/Unauthorized" },
           "500": { "$ref": "#/components/responses/ServerError" }
         }
       }
     },
     "/export": {
       "post": {
         "summary": "Exporter les donn√©es",
         "description": "Exporte les donn√©es de l'utilisateur dans diff√©rents formats",
         "tags": ["Notes"],
         "operationId": "exportDataV2",
         "security": [
           {
             "ApiKeyAuth": []
           }
         ],
         "requestBody": {
           "required": true,
           "content": {
             "application/json": {
               "schema": {
                 "type": "object",
                 "required": ["format"],
                 "properties": {
                   "format": {
                     "type": "string",
                     "enum": ["markdown", "json", "html"],
                     "description": "Format d'export souhait√©"
                   },
                   "classeur_id": {
                     "type": "string",
                     "format": "uuid",
                     "description": "Limiter l'export √† un classeur sp√©cifique"
                   },
                   "include_metadata": {
                     "type": "boolean",
                     "description": "Inclure les m√©tadonn√©es dans l'export",
                     "default": true
                   }
                 }
               }
             }
           }
         },
         "responses": {
           "200": {
             "description": "Export g√©n√©r√© avec succ√®s",
             "content": {
               "application/json": {
                 "schema": {
                   "type": "object",
                   "properties": {
                     "success": {
                       "type": "boolean",
                       "example": true
                     },
                     "export_url": {
                       "type": "string",
                       "format": "uri",
                       "description": "URL de t√©l√©chargement de l'export"
                     },
                     "expires_at": {
                       "type": "string",
                       "format": "date-time",
                       "description": "Date d'expiration du lien de t√©l√©chargement"
                     }
                   },
                   "required": ["success", "export_url", "expires_at"]
                 }
               }
             }
           },
           "400": {
             "description": "Format d'export invalide",
             "content": {
               "application/json": {
                 "schema": {
                   "type": "object",
                   "properties": {
                     "error": {
                       "type": "string",
                       "example": "Format d'export non support√©"
                     }
                   }
                 }
               }
             }
           },
           "401": { "$ref": "#/components/responses/Unauthorized" },
           "500": { "$ref": "#/components/responses/ServerError" }
         }
       }
     },
     "/notes/recent": {
       "get": {
         "summary": "R√©cup√©rer les notes r√©centes",
         "description": "R√©cup√®re les notes les plus r√©cemment modifi√©es de l'utilisateur",
         "tags": ["Notes"],
         "operationId": "getRecentNotesV2",
         "security": [
           {
             "ApiKeyAuth": []
           }
         ],
         "parameters": [
           {
             "name": "limit",
             "in": "query",
             "description": "Nombre maximum de notes √† retourner",
             "required": false,
             "schema": {
               "type": "integer",
               "minimum": 1,
               "maximum": 100,
               "default": 20
             }
           }
         ],
         "responses": {
           "200": {
             "description": "Notes r√©centes r√©cup√©r√©es avec succ√®s",
             "content": {
               "application/json": {
                 "schema": {
                   "type": "object",
                   "properties": {
                     "success": {
                       "type": "boolean",
                       "example": true
                     },
                     "notes": {
                       "type": "array",
                       "items": { "$ref": "#/components/schemas/Note" }
                     }
                   },
                   "required": ["success", "notes"]
                 }
               }
             }
           },
           "401": { "$ref": "#/components/responses/Unauthorized" },
           "500": { "$ref": "#/components/responses/ServerError" }
         }
       }
     },
     "/note/{ref}/content": {
       "get": {
         "summary": "R√©cup√©rer le contenu d'une note",
         "description": "R√©cup√®re le contenu complet d'une note avec gestion des permissions de partage",
         "tags": ["Notes"],
         "operationId": "getNoteContentV2",
         "security": [
           {
             "ApiKeyAuth": []
           }
         ],
         "parameters": [
           {
             "name": "ref",
             "in": "path",
             "required": true,
             "description": "ID ou slug de la note",
             "schema": {
               "type": "string"
             }
           }
         ],
         "responses": {
           "200": {
             "description": "Contenu de la note r√©cup√©r√© avec succ√®s",
             "content": {
               "application/json": {
                 "schema": {
                   "type": "object",
                   "properties": {
                     "success": {
                       "type": "boolean",
                       "example": true
                     },
                     "note": {
                       "$ref": "#/components/schemas/Note"
                     }
                   },
                   "required": ["success", "note"]
                 }
               }
             }
           },
           "404": {
             "description": "Note non trouv√©e",
             "content": {
               "application/json": {
                 "schema": {
                   "type": "object",
                   "properties": {
                     "error": {
                       "type": "string",
                       "example": "Note non trouv√©e"
                     }
                   }
                 }
               }
             }
           },
           "401": { "$ref": "#/components/responses/Unauthorized" },
           "500": { "$ref": "#/components/responses/ServerError" }
         }
       }
     },
     "/note/{ref}/metadata": {
       "get": {
         "summary": "R√©cup√©rer les m√©tadonn√©es d'une note",
         "description": "R√©cup√®re les m√©tadonn√©es d√©taill√©es d'une note",
         "tags": ["Notes"],
         "operationId": "getNoteMetadataV2",
         "security": [
           {
             "ApiKeyAuth": []
           }
         ],
         "parameters": [
           {
             "name": "ref",
             "in": "path",
             "required": true,
             "description": "ID ou slug de la note",
             "schema": {
               "type": "string"
             }
           }
         ],
         "responses": {
           "200": {
             "description": "M√©tadonn√©es r√©cup√©r√©es avec succ√®s",
             "content": {
               "application/json": {
                 "schema": {
                   "type": "object",
                   "properties": {
                     "success": {
                       "type": "boolean",
                       "example": true
                     },
                     "metadata": {
                       "type": "object",
                       "properties": {
                         "id": { "type": "string", "format": "uuid" },
                         "source_title": { "type": "string" },
                         "slug": { "type": "string" },
                         "created_at": { "type": "string", "format": "date-time" },
                         "updated_at": { "type": "string", "format": "date-time" },
                         "is_published": { "type": "boolean" },
                         "share_settings": { "$ref": "#/components/schemas/ShareSettings" }
                       }
                     }
                   },
                   "required": ["success", "metadata"]
                 }
               }
             }
           },
           "404": {
             "description": "Note non trouv√©e",
             "content": {
               "application/json": {
                 "schema": {
                   "type": "object",
                   "properties": {
                     "error": {
                       "type": "string",
                       "example": "Note non trouv√©e"
                     }
                   }
                 }
               }
             }
           },
           "401": { "$ref": "#/components/responses/Unauthorized" },
           "500": { "$ref": "#/components/responses/ServerError" }
         }
       }
     },
     "/api/v2/note/create": {
       "post": {
         "summary": "Cr√©er une note",
         "description": "Cr√©e une nouvelle note avec validation avanc√©e et g√©n√©ration automatique de slug",
         "tags": ["Notes"],
         "security": [
           {
             "ApiKeyAuth": []
           }
         ],
         "requestBody": {
           "required": true,
           "content": {
             "application/json": {
               "schema": {
                 "$ref": "#/components/schemas/CreateNoteRequest"
               }
             }
           }
         },
         "responses": {
           "201": {
             "description": "Note cr√©√©e avec succ√®s",
             "content": {
               "application/json": {
                 "schema": {
                   "$ref": "#/components/schemas/NoteResponse"
                 }
               }
             }
           },
           "400": {
             "description": "Requ√™te invalide",
             "content": {
               "application/json": {
                 "schema": {
                   "$ref": "#/components/schemas/ErrorResponse"
                 }
               }
             }
           },
           "401": { "$ref": "#/components/responses/Unauthorized" },
           "404": {
             "description": "Classeur non trouv√©",
             "content": {
               "application/json": {
                 "schema": {
                   "$ref": "#/components/schemas/ErrorResponse"
                 }
               }
             }
           },
           "500": { "$ref": "#/components/responses/ServerError" }
         }
       }
     },
     "/api/v2/classeur/reorder": {
       "put": {
         "summary": "R√©organiser les classeurs",
         "description": "R√©organise l'ordre des classeurs pour un utilisateur",
         "tags": ["Classeurs"],
         "security": [
           {
             "ApiKeyAuth": []
           }
         ],
         "requestBody": {
           "required": true,
           "content": {
             "application/json": {
               "schema": {
                 "$ref": "#/components/schemas/ReorderClasseursRequest"
               }
             }
           }
         },
         "responses": {
           "200": {
             "description": "Classeurs r√©organis√©s avec succ√®s",
             "content": {
               "application/json": {
                 "schema": {
                   "$ref": "#/components/schemas/ReorderResponse"
                 }
               }
             }
           },
           "400": {
             "description": "Requ√™te invalide",
             "content": {
               "application/json": {
                 "schema": {
                   "$ref": "#/components/schemas/ErrorResponse"
                 }
               }
             }
           },
           "401": { "$ref": "#/components/responses/Unauthorized" },
           "500": { "$ref": "#/components/responses/ServerError" }
         }
       }
     },
     "/api/v2/classeur/{ref}/reorder": {
       "put": {
         "summary": "R√©organiser un classeur",
         "description": "R√©organise l'ordre d'un classeur sp√©cifique",
         "tags": ["Classeurs"],
         "security": [
           {
             "ApiKeyAuth": []
           }
         ],
         "parameters": [
           {
             "name": "ref",
             "in": "path",
             "required": true,
             "description": "ID ou slug du classeur",
             "schema": {
               "type": "string"
             }
           }
         ],
         "requestBody": {
           "required": true,
           "content": {
             "application/json": {
               "schema": {
                 "$ref": "#/components/schemas/ReorderClasseurRequest"
               }
             }
           }
         },
         "responses": {
           "200": {
             "description": "Classeur r√©organis√© avec succ√®s",
             "content": {
               "application/json": {
                 "schema": {
                   "$ref": "#/components/schemas/ReorderResponse"
                 }
               }
             }
           },
           "400": {
             "description": "Requ√™te invalide",
             "content": {
               "application/json": {
                 "schema": {
                   "$ref": "#/components/schemas/ErrorResponse"
                 }
               }
             }
           },
           "401": { "$ref": "#/components/responses/Unauthorized" },
           "404": {
             "description": "Classeur non trouv√©",
             "content": {
               "application/json": {
                 "schema": {
                   "$ref": "#/components/schemas/ErrorResponse"
                 }
               }
             }
           },
           "500": { "$ref": "#/components/responses/ServerError" }
         }
       }
     },
     "/api/v2/classeur/{ref}/tree": {
       "get": {
         "summary": "Obtenir l'arborescence d'un classeur",
         "description": "R√©cup√®re l'arborescence compl√®te d'un classeur avec tous ses dossiers et notes",
         "tags": ["Classeurs"],
         "security": [
           {
             "ApiKeyAuth": []
           }
         ],
         "parameters": [
           {
             "name": "ref",
             "in": "path",
             "required": true,
             "description": "ID ou slug du classeur",
             "schema": {
               "type": "string"
             }
           }
         ],
         "responses": {
           "200": {
             "description": "Arborescence r√©cup√©r√©e avec succ√®s",
             "content": {
               "application/json": {
                 "schema": {
                   "$ref": "#/components/schemas/ClasseurTreeResponse"
                 }
               }
             }
           },
           "401": { "$ref": "#/components/responses/Unauthorized" },
           "404": {
             "description": "Classeur non trouv√©",
             "content": {
               "application/json": {
                 "schema": {
                   "$ref": "#/components/schemas/ErrorResponse"
                 }
               }
             }
           },
           "500": { "$ref": "#/components/responses/ServerError" }
         }
       }
     },
     "/api/v2/folder/{ref}/tree": {
       "get": {
         "summary": "Obtenir l'arborescence d'un dossier",
         "description": "R√©cup√®re l'arborescence d'un dossier avec ses sous-dossiers et notes",
         "tags": ["Dossiers"],
         "security": [
           {
             "ApiKeyAuth": []
           }
         ],
         "parameters": [
           {
             "name": "ref",
             "in": "path",
             "required": true,
             "description": "ID ou slug du dossier",
             "schema": {
               "type": "string"
             }
           }
         ],
         "responses": {
           "200": {
             "description": "Arborescence r√©cup√©r√©e avec succ√®s",
             "content": {
               "application/json": {
                 "schema": {
                   "$ref": "#/components/schemas/FolderTreeResponse"
                 }
               }
             }
           },
           "401": { "$ref": "#/components/responses/Unauthorized" },
           "404": {
             "description": "Dossier non trouv√©",
             "content": {
               "application/json": {
                 "schema": {
                   "$ref": "#/components/schemas/ErrorResponse"
                 }
               }
             }
           },
           "500": { "$ref": "#/components/responses/ServerError" }
         }
       }
     }
  },
  "components": {
    "securitySchemes": {
      "ApiKeyAuth": {
        "type": "apiKey",
        "in": "header",
        "name": "X-API-Key",
        "description": "Cl√© API pour l'authentification. Cette cl√© doit √™tre incluse dans l'en-t√™te X-API-Key de chaque requ√™te."
      }
    },
    "schemas": {
      "User": {
        "type": "object",
        "description": "Profil utilisateur authentifi√©",
        "required": ["id", "email", "created_at"],
        "properties": {
          "id": { 
            "type": "string", 
            "format": "uuid",
            "description": "Identifiant unique de l'utilisateur"
          },
          "email": { 
            "type": "string",
            "format": "email",
            "description": "Adresse email de l'utilisateur",
            "example": "user@example.com"
          },
          "first_name": { 
            "type": "string",
            "description": "Pr√©nom de l'utilisateur"
          },
          "last_name": { 
            "type": "string",
            "description": "Nom de famille de l'utilisateur"
          },
          "username": { 
            "type": "string",
            "description": "Nom d'utilisateur unique"
          },
          "avatar_url": { 
            "type": "string",
            "format": "uri",
            "description": "URL de l'avatar de l'utilisateur"
          },
          "is_active": { 
            "type": "boolean",
            "description": "Indique si le compte est actif"
          },
          "created_at": { 
            "type": "string", 
            "format": "date-time",
            "description": "Date de cr√©ation du compte"
          },
          "updated_at": { 
            "type": "string", 
            "format": "date-time",
            "description": "Date de derni√®re modification du profil"
          }
        }
      },
      "Classeur": {
        "type": "object",
        "description": "Un classeur est un organisateur de notes et dossiers",
        "required": ["id", "name", "created_at", "updated_at"],
        "properties": {
          "id": { 
            "type": "string", 
            "format": "uuid",
            "description": "Identifiant unique du classeur"
          },
          "name": { 
            "type": "string", 
            "maxLength": 255,
            "description": "Nom du classeur",
            "example": "Mes Notes"
          },
          "slug": { 
            "type": "string",
            "description": "Slug URL-friendly du classeur",
            "example": "mes-notes"
          },
          "description": { 
            "type": "string", 
            "maxLength": 500,
            "description": "Description optionnelle du classeur"
          },
          "emoji": { 
            "type": "string",
            "description": "Emoji repr√©sentant le classeur",
            "example": "üìù"
          },
          "color": { 
            "type": "string",
            "description": "Couleur d'accent du classeur",
            "example": "#2994ff"
          },
          "position": { 
            "type": "integer", 
            "minimum": 0,
            "description": "Position d'ordre du classeur"
          },
          "created_at": { 
            "type": "string", 
            "format": "date-time",
            "description": "Date de cr√©ation du classeur"
          },
          "updated_at": { 
            "type": "string", 
            "format": "date-time",
            "description": "Date de derni√®re modification"
          }
        }
      },
      "Note": {
        "type": "object",
        "description": "Une note ou article dans le syst√®me",
        "required": ["id", "source_title", "created_at", "updated_at"],
        "properties": {
          "id": { 
            "type": "string", 
            "format": "uuid" 
          },
          "source_title": { 
            "type": "string",
            "description": "Titre de la note"
          },
          "slug": { 
            "type": "string",
            "description": "Slug URL-friendly de la note"
          },
          "folder_id": { 
            "type": "string", 
            "format": "uuid",
            "description": "ID du dossier parent"
          },
          "classeur_id": { 
            "type": "string", 
            "format": "uuid",
            "description": "ID du classeur parent"
          },
          "markdown_content": { 
            "type": "string",
            "description": "Contenu de la note en format Markdown"
          },
          "is_published": { 
            "type": "boolean",
            "description": "Indique si la note est publi√©e"
          },
          "created_at": { 
            "type": "string", 
            "format": "date-time" 
          },
          "updated_at": { 
            "type": "string", 
            "format": "date-time" 
          }
        }
      },
      "Folder": {
        "type": "object",
        "description": "Un dossier organisateur dans l'arborescence",
        "required": ["id", "name", "created_at", "updated_at"],
        "properties": {
          "id": { 
            "type": "string", 
            "format": "uuid" 
          },
          "name": { 
            "type": "string",
            "description": "Nom du dossier"
          },
          "slug": { 
            "type": "string",
            "description": "Slug URL-friendly du dossier"
          },
          "parent_id": { 
            "type": "string", 
            "format": "uuid",
            "description": "ID du dossier parent (null pour la racine)"
          },
          "classeur_id": { 
            "type": "string", 
            "format": "uuid",
            "description": "ID du classeur parent"
          },
          "position": { 
            "type": "integer",
            "description": "Position d'ordre dans le dossier parent"
          },
          "created_at": { 
            "type": "string", 
            "format": "date-time" 
          },
          "updated_at": { 
            "type": "string", 
            "format": "date-time" 
          }
        }
      },
      "ShareSettings": {
        "type": "object",
        "description": "Param√®tres de partage d'une note",
        "properties": {
          "visibility": {
            "type": "string",
            "enum": ["private", "public", "unlisted"],
            "description": "Niveau de visibilit√© de la note",
            "default": "private"
          },
          "allow_comments": {
            "type": "boolean",
            "description": "Autoriser les commentaires",
            "default": false
          },
          "allow_editing": {
            "type": "boolean",
            "description": "Autoriser l'√©dition par d'autres",
            "default": false
          },
          "expires_at": {
            "type": "string",
            "format": "date-time",
            "description": "Date d'expiration du partage"
          }
        }
      },
      "SearchResult": {
        "type": "object",
        "description": "R√©sultat de recherche",
        "properties": {
          "type": {
            "type": "string",
            "enum": ["note", "folder"],
            "description": "Type du r√©sultat"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "ID de l'√©l√©ment"
          },
          "title": {
            "type": "string",
            "description": "Titre ou nom de l'√©l√©ment"
          },
          "slug": {
            "type": "string",
            "description": "Slug de l'√©l√©ment"
          },
          "classeur_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID du classeur parent"
          },
          "score": {
            "type": "number",
            "description": "Score de pertinence de la recherche"
          },
          "excerpt": {
            "type": "string",
            "description": "Extrait du contenu correspondant"
          }
        }
      },
      "CreateNoteRequest": {
        "type": "object",
        "description": "Requ√™te de cr√©ation d'une note",
        "required": ["source_title", "notebook_id"],
        "properties": {
          "source_title": {
            "type": "string",
            "maxLength": 255,
            "description": "Titre de la note",
            "example": "Ma nouvelle note"
          },
          "notebook_id": {
            "type": "string",
            "description": "ID ou slug du classeur parent",
            "example": "mon-classeur"
          },
          "folder_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID du dossier parent (optionnel)"
          },
          "markdown_content": {
            "type": "string",
            "description": "Contenu initial de la note en Markdown",
            "example": "# Titre\n\nContenu de la note..."
          },
          "header_image": {
            "type": "string",
            "format": "uri",
            "description": "URL de l'image d'en-t√™te (optionnel)"
          }
        }
      },
      "ReorderClasseursRequest": {
        "type": "object",
        "description": "Requ√™te de r√©organisation des classeurs",
        "required": ["classeurs"],
        "properties": {
          "classeurs": {
            "type": "array",
            "description": "Liste des classeurs avec leur nouvelle position",
            "items": {
              "type": "object",
              "required": ["id", "position"],
              "properties": {
                "id": {
                  "type": "string",
                  "format": "uuid",
                  "description": "ID du classeur"
                },
                "position": {
                  "type": "integer",
                  "minimum": 0,
                  "description": "Nouvelle position du classeur"
                }
              }
            }
          }
        }
      },
      "ReorderClasseurRequest": {
        "type": "object",
        "description": "Requ√™te de r√©organisation d'un classeur",
        "required": ["position"],
        "properties": {
          "position": {
            "type": "integer",
            "minimum": 0,
            "description": "Nouvelle position du classeur"
          }
        }
      },
      "ReorderResponse": {
        "type": "object",
        "description": "R√©ponse de r√©organisation",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Indique si la r√©organisation a r√©ussi"
          },
          "message": {
            "type": "string",
            "description": "Message de confirmation"
          },
          "classeurs": {
            "type": "array",
            "description": "Liste des classeurs avec leurs nouvelles positions",
            "items": {
              "$ref": "#/components/schemas/Classeur"
            }
          }
        }
      },
      "ClasseurTreeResponse": {
        "type": "object",
        "description": "R√©ponse d'arborescence d'un classeur",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Indique si la r√©cup√©ration a r√©ussi"
          },
          "classeur": {
            "$ref": "#/components/schemas/Classeur"
          },
          "tree": {
            "type": "object",
            "description": "Arborescence du classeur",
            "properties": {
              "folders": {
                "type": "array",
                "description": "Liste des dossiers",
                "items": {
                  "$ref": "#/components/schemas/FolderTreeItem"
                }
              },
              "notes": {
                "type": "array",
                "description": "Liste des notes",
                "items": {
                  "$ref": "#/components/schemas/NoteTreeItem"
                }
              }
            }
          }
        }
      },
      "FolderTreeResponse": {
        "type": "object",
        "description": "R√©ponse d'arborescence d'un dossier",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Indique si la r√©cup√©ration a r√©ussi"
          },
          "folder": {
            "$ref": "#/components/schemas/Folder"
          },
          "tree": {
            "type": "object",
            "description": "Arborescence du dossier",
            "properties": {
              "subfolders": {
                "type": "array",
                "description": "Liste des sous-dossiers",
                "items": {
                  "$ref": "#/components/schemas/FolderTreeItem"
                }
              },
              "notes": {
                "type": "array",
                "description": "Liste des notes",
                "items": {
                  "$ref": "#/components/schemas/NoteTreeItem"
                }
              }
            }
          }
        }
      },
      "FolderTreeItem": {
        "type": "object",
        "description": "√âl√©ment d'arborescence d'un dossier",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "ID du dossier"
          },
          "name": {
            "type": "string",
            "description": "Nom du dossier"
          },
          "slug": {
            "type": "string",
            "description": "Slug du dossier"
          },
          "position": {
            "type": "integer",
            "description": "Position du dossier"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "Date de cr√©ation"
          },
          "subfolders": {
            "type": "array",
            "description": "Sous-dossiers (r√©cursif)",
            "items": {
              "$ref": "#/components/schemas/FolderTreeItem"
            }
          },
          "notes": {
            "type": "array",
            "description": "Notes du dossier",
            "items": {
              "$ref": "#/components/schemas/NoteTreeItem"
            }
          }
        }
      },
      "NoteTreeItem": {
        "type": "object",
        "description": "√âl√©ment d'arborescence d'une note",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "ID de la note"
          },
          "source_title": {
            "type": "string",
            "description": "Titre de la note"
          },
          "slug": {
            "type": "string",
            "description": "Slug de la note"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "Date de cr√©ation"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "Date de modification"
          }
        }
      }
    },
    "responses": {
      "Unauthorized": { 
        "description": "Authentification requise - Cl√© API manquante/invalide",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "Authentification requise - Cl√© API valide n√©cessaire"
                },
                "code": {
                  "type": "string",
                  "example": "AUTH_REQUIRED"
                }
              }
            }
          }
        }
      },
      "Forbidden": { 
        "description": "Permissions insuffisantes pour cette ressource",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "Permissions insuffisantes"
                }
              }
            }
          }
        }
      },
      "ServerError": { 
        "description": "Erreur interne du serveur",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "Erreur lors de la r√©cup√©ration des donn√©es"
                }
              }
            }
          }
        }
      }
    }
  }
}
